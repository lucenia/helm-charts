# singleNode is a boolean that determines if the cluster will be created with 1 replica
# Set to true if Lucenia cluster config discovery.type is set to single-node
# If true, the cluster will be created with 1 replica by default
# If false, the cluster will be created the replicaCount number of nodes
singleNode: true

# config is used to add configuration such as `lucenia.yml` and `log4j2.properties`
config:
  lucenia.yml: |
    cluster.name: lucenia-cluster

    # Bind to all interfaces because we don't know what IP address Docker will assign to us.
    network.host: 0.0.0.0

    # Setting network.host to a non-loopback address enables the annoying bootstrap checks. "Single-node" mode disables them again.
    # Implicitly done if ".singleNode" is set to "true".
    discovery.type: single-node

    # Start Lucenia Security Demo Configuration
    # WARNING: revise all the lines below before you go into production
    plugins:
      license:
        certificate: |
          --------BEGIN LICENSE CERTIFICATE-------
          ID: 625d793f-dacb-4e54-a8b1-8c0a54f55dbd
          Type: Trial License
          Licensee: Lucenia Skylite CI
          Expiry: 2024-08-15

          3A1922EA DDB27107 9975665F D249C8C5
          84A0EE12 58BD83F6 E88B8C38 745E4E1A
          3EC5F7BC AF90F431 0F23DFA1 FD93F86E
          2EB432C7 4AC8F9F2 709F632F F81FB828
          A3504DF8 906518A5 9C6BD82E 4C5DD2E2
          052683DB 2E95F8A0 473C9808 A7EEC481
          7429EFBC C32328DC 06126EBA 6CFA97C9
          F494BE94 19AF9725 D6C5A1FF 4B988249
          --------END LICENSE CERTIFICATE---------
      security:
        ssl:
          transport:
            pemcert_filepath: node.pem
            pemkey_filepath: node-key.pem
            pemtrustedcas_filepath: root-ca.pem
            enforce_hostname_verification: false
          http:
            enabled: true
            pemcert_filepath: node.pem
            pemkey_filepath: node-key.pem
            pemtrustedcas_filepath: root-ca.pem
        allow_unsafe_democertificates: true
        allow_default_init_securityindex: true
        authcz:
          admin_dn:
            - CN=kirk,OU=client,O=client,L=test,C=de
        audit.type: internal_lucenia
        enable_snapshot_restore_privilege: true
        check_snapshot_restore_write_privileges: true
        restapi:
          roles_enabled: ["all_access", "security_rest_api_access"]
        system_indices:
          enabled: false
          indices:
            [
              # define list of indices that are managed by security
            ]
    ######## End Lucenia Security Demo Configuration ########
  # log4j2.properties:

# extraEnvs are additional environment variables to set for  the nodeGroup
# Will be appended to the current 'env:' key. You can use any kubernetes env syntax
extraEnvs:
  - name: LUCENIA_INITIAL_ADMIN_PASSWORD
    value: myStrongPassword123!
